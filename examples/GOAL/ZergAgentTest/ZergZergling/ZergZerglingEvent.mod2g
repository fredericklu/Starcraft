use ZergZergling as knowledge.
use "../GenericMods/GenericPercepts" as module.

order = randomall.
module ZergZerglingEvent {
	%%%%%%%%%%%%%%% --------------------------------------- Percepts --------------------------------------- %%%%%%%%%%%%%%%
	
	% The handling of the position 
	if percept(status(_,_,_,_,X1,Y1)), bel(position(X2,Y2)) then delete(position(X2,Y2)) + insert(position(X1,Y1)).
	
	% The handling of the conditions
	if percept(status(_,_,_,NewCond,_,_)), bel(condition(OldCond)) then delete(condition(OldCond)) + insert(condition(NewCond)).	
		
	%%%%%%%%%%%%%%% --------------------------------------- Messaging --------------------------------------- %%%%%%%%%%%%%%%
	if goal(position(X,Y)), bel(position(X2,Y2), distance(X,Y,X2,Y2,D), D<49) then drop(position(X,Y)).
	
	if not(goal(position(_,_))), bel(condition(List),not(member(moving, List)), chokepoint(X, Y),position(X2,Y2),distance(X,Y,X2,Y2,D), D>49) 
		then adopt(position(X, Y)).
}